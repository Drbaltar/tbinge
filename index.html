
const fs = require('fs')
        const { dialog } = require('electron').remote
        export default {
            name: 'Fstest',
            data() {
                return {
                    newFileName: null,
                    fileContents: null,
                    filePath: null,
                    confirmSave: true,
                    failedSave: true,
                    errMsg: null
                 }
                },
       methods: {
         readFile() {
           let types = [{ name: '', extensions: ['json'] }]
           let options = { filters: types, properties: ['openFile'] }
           this.path = dialog.showOpenDialog(options, (filePaths) => {
          if (filePaths === undefined) return
         this.filePath = filePaths[0]
        fs.readFile('index.json', utf8, function (err, data) {
         if (err) {
        console.log(err);
        }else {
        jsonObj = JSON.parse(data)
        this.fileContents = JSON.stringify(jsonObj, null, '\t')
        }
    })
},

//prepare data for writting  
  updateFile() {
  let types = [{ name: 'index.json', extensions: ['json'] }]
  
    fs.writeFile('index.json', utf8, function (err, data){
        if (err === null) {
            this.confirmSave = !this.confirmSave
            setTimeout(() => this.confirmSave = !this.confirmSave, 1000)
            this.save = !this.save
    
                })

            }
        }
    }
}

